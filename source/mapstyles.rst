.. sectionauthor:: Артём Светлов <artem.svetlov@nextgis.ru>

.. _maplayers:

Стили слоёв
================================



Стили служат для описания каким образом отрисовывать геоданные. Для создания стиля необходимо в окне свойств слоя в блоке операций выбрать: :menuselection:`Добавить стиль --> Стиль MapServer`. При этом, откроется окно в котором можно импортировать стиль из QGIS в формате qgs или ввести его вручную. 

При импорте стиля из формата qgs , он сконвертируется в особый формат. Следует заметить, что конвертируются только основные возможности отрисовки геомтерий.
Если в импортируем стиле идет выборка по условию, то вариант для пустого значения нужно размещать последним (при импорте из QGIS он попадает первым).


Теги языка картостилей
----------------------------------


+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
| ТЕГ	                 | Пример                                              | Header 3                           | Картинки            |
+========================+=====================================================+====================================+=====================+
| map                    |                                                     | Поле, из которого берётся подпись  |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
| layer                  |                                                     | Поле, из которого берётся подпись  |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
| labelitem              | <labelitem>a_hsnmbr</labelitem>                     | Поле, из которого берётся подпись  |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+
|                        |                                                     |                                    |                     |
+------------------------+-----------------------------------------------------+------------------------------------+---------------------+


Примеры картостилей
----------------------------------

Полигональный слой с ограничением по масштабу и подписями
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. code-block:: xml

	<map>
	  <layer>
	    <labelitem>a_hsnmbr</labelitem>
	    <class>
	      <style>
		<color red="255" green="170" blue="127"/>
		<outlinecolor red="106" green="106" blue="106"/>
		<width>0.425196850394</width>
		<maxscaledenom>10000</maxscaledenom>
	      </style>
	      <label>
		<type>truetype</type>
		<font>regular</font>
		<size>8.25</size>
		<color blue="0" green="0" red="0"/>
		<outlinewidth>3</outlinewidth>
		<outlinecolor blue="255" green="255" red="255"/>
		<position>ur</position>
		<maxscaledenom>10000</maxscaledenom>
	      </label>
	    </class>
	  </layer>
	</map>


Точечный белый кружок
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. code-block:: xml

     <style>
       <color red="255" green="255" blue="255"/>
       <outlinecolor red="0" green="0" blue="0"/>
       <size>8.50393700787</size>
       <symbol>std:circle</symbol>
     </style>



Линия из маленьких чёрных кружков
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. code-block:: xml

     <style>
       <angle>auto</angle>
       <gap>-10</gap>
       <color red="255" green="255" blue="255"/>
       <outlinecolor red="0" green="0" blue="0"/>
       <size>2</size>
       <symbol>std:circle</symbol>
     </style>


